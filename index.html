<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="shortcut icon" type="image/x-icon" href="./src/images/favicon.png">
    <title>WBT</title>
   <!-- Styles -->
    <link rel="stylesheet" href="src/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="src/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="src/css/wbtStyle.css"/>
   <!-- JS -->
    <script src="src/js/jquery-2.1.1.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="src/js/jquery-ui.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="src/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="src/js/localStorage.js" type="text/javascript" charset="utf-8"></script>
	<script src="src/js/modal.js" type="text/javascript" charset="utf-8"></script>
    <script src="src/js/framework.js" type="text/javascript" charset="utf-8"></script>
   <!-- JS-Module -->
   <script src="src/js/accordion.js" type="text/javascript" charset="utf-8"></script>
   <script src="src/js/video.js" type="text/javascript" charset="utf-8"></script>
    <script src="src/js/audio.js" type="text/javascript" charset="utf-8"></script>
    <script src="src/js/value.js" type="text/javascript" charset="utf-8"></script>
    <script src="src/js/dragDrop.js" type="text/javascript" charset="utf-8"></script>
    <script src="src/js/gallery.js" type="text/javascript" charset="utf-8"></script>
   <script src="src/js/multiple-choice.js" type="text/javascript" charset="utf-8"></script>
   <!-- Custom JS -->
   <script src="src/js/character_data.js" type="text/javascript" charset="utf-8"></script>
   <script src="src/js/stage_data.js" type="text/javascript" charset="utf-8"></script>
   <script src="src/js/quizzes.js" type="text/javascript" charset="utf-8"></script>
   <!--Fonts-->
   <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
   <!--MediaElement-->
   <link rel="stylesheet" href="src/js/mediaelement/src/css/mediaelementplayer.css"/>
   <script src="src/js/mediaelement/build/mediaelement-and-player.min.js" type="text/javascript"></script>
</head>
<body>
	<header id="banner" class="image-bg-fixed-height"></header>
	<div class="container">
	<!-- main navigation -->
		<nav class="mainNavigation"></nav>
		<div class="row">
			<div class="col-md-10 col-md-offset-1">
				<section id="start">
					<h1 id="welcome_h1">Willkommen</h1>
					<p><img id="welcome_img" class="img-responsive" src="src/images/header_smashbrosmelee.jpg" alt="Alle Charaktere als Header"/></p>
					<article>
					<h2 id="welcome_h2">Zu diesem WBT</h2>
						<div id="welcome" class="col-md-10 col-md-offset-1">
							<script>
									$( "#welcome" ).load( "content/welcome.html" );
							</script>
						</div>
					</article>
				</section>
				<section id="introduction">
					<h1>Einleitung</h1> 
					<p>In diesem Abschnitt lernst Du, was das Super Smash Bros. Melee genau ist, und wie das Spielprinzip im Detail funktioniert.</p>
					<article>
						<h2>Die Smash Bros. Serie</h2>
						<div id="smash_series">
							<script>
								$( "#smash_series" ).load( "content/smash_series.html" );
							</script>
						</div>	
					</article>
					<article>
						<h2>Das Spielprinzip</h2>
						<div id="prinzip">
							<script>
								$( "#prinzip" ).load( "content/prinzip.html" );
							</script>
						</div>
					</article>
					<article>
						<h2>Prozente vs Lebensbalken</h2>
						<div id="percent">
							<script>
								$( "#percent" ).load( "content/percent.html" );
							</script>
						</div>
					</article>
					<article>
						<h2 class="invisible">Quiz</h2>
						<div class="einleitung_quiz_container quiz_container">
							<h3>1. Quiz - Einleitung</h3>
							<p>Bereit?</p>
							<button type="button" class="btn btn-primary quiz_button" data-backdrop="static" data-keyboard="false" data-quiz-id="Einleitung" data-toggle="modal" data-target="#quiz-modal">Quiz starten</button>
						</div>
					</article>
				</section>
				<section id="basics">
					<h1>Basics</h1>
					<p>In diesem Kapitel lernst Du die grundlegende Steuerung des Spiels kennen.</p>
					<article>
						<h2>Legende</h2>
						<div id="legend">
							<script>
								$( "#legend" ).load( "content/legend.html" );
							</script>
						</div>
					</article>
					<article id="movement">
						<script>
							$( "#movement" ).load( "content/movement.html" );
						</script>
					</article>
					<article id="attack">
						<script>
							$( "#attack" ).load( "content/attack.html" );
						</script>
					</article>
					<article id="defense">
						<script>
								$( "#defense" ).load( "content/defense.html" );
						</script>
					</article>
					<article id="specials_basic">
						<script>
								$( "#specials_basic" ).load( "content/specials_basic.html" );
						</script>
					</article>
					<article id="lets_smash_basics">
						<script>
								$( "#lets_smash_basics" ).load( "content/lets_smash_basics.html" );
						</script>
					</article>
					<article>
						<h2 class="invisible">Quiz</h2>
						<div class="basics_quiz_container quiz_container">
							<h3>2. Quiz - Basics</h3>
							<p>Bereit?</p>
							<button type="button" class="btn btn-primary" data-backdrop="static" data-keyboard="false" data-quiz-id="Basics" data-toggle="modal" data-target="#quiz-modal">Quiz starten</button>
						</div>
					</article>
				</section>
				<section id="character">
					<h1>Charaktere</h1> 
						<p>
							In diesem Abschnitt lernst Du die verschiedenen Charaktere des Spiels kennen. Diese sind nach Gewichtsklassen unterteilt. 
							Zunächst wird der Unterschied zwischen den Gewichtsklassen erklärt.
							Anschließend kannst Du die Herkunft, Eigenschaften und Specials aller Charaktere im Detail betrachten.
						</p>
					<article>
						<h2>Gewichtsklassen</h2>
						<div id="weight">
							<script>
								$( "#weight" ).load( "content/weight.html" );
							</script>
						</div>
					</article>
					<article>
						<h2>Charakterinformationen</h2>
						<div id="character_information">
							<script>
								$( "#character_information" ).load( "content/characters.html" );
							</script>							
						</div>
					</article>
					<article>
						<h2 class="invisible">Let's Smash</h2>
						<div id="lets_smash_characters">
							<script>
                                $( "#lets_smash_characters" ).load( "content/lets_smash_chars.html" );
							</script>
						</div>
					</article>
					<article>
						<h2 class="invisible">Quiz</h2>
						<div class="chars_quiz_container quiz_container">
							<h3>3. Quiz - Charaktere</h3>
							<p>Bereit?</p>
							<button type="button" class="btn btn-primary" data-backdrop="static" data-keyboard="false" data-quiz-id="Charaktere" data-toggle="modal" data-target="#quiz-modal">Quiz starten</button>
						</div>
					</article>
				</section>
				<section id="stages">
					<h1>Stages</h1> 
					<p>Nun lernst Du die verschiedenen Stages des Spiels kennen. Zunächst klären wir allerdings erst einmal, was eine Stage legal, also bei einem Turnier erlaubt, macht und was illegale Stages sind.</p>
					<p>Im Anschluss kannst Du dir alle Stages nach Belieben betrachten.</p>
					<article>
						<h2>Legalität</h2>
						<div id="tourney_legal">
							<script>
								$( "#tourney_legal" ).load( "content/tourney_legal.html" );
							</script>
						</div>
					</article>
					<article>
						<h2>Stage-Informationen</h2>
						<div id="stage_information">
							<script>
								$( "#stage_information" ).load( "content/stages.html" );
							</script>
						</div>
					</article>
					<article>
						<h2 class="invisible">Let's Smash</h2>
						<div id="lets_smash_stages">
							<script>
								$( "#lets_smash_stages" ).load( "content/lets_smash_stages.html" );
							</script>
						</div>
					</article>
					<article>
						<h2 class="invisible">Quiz</h2>
						<div class="stages_quiz_container quiz_container">
							<h3>4. Quiz - Stages</h3>
							<p>Bereit?</p>
							<button type="button" class="btn btn-primary" data-backdrop="static" data-keyboard="false" data-quiz-id="Stages" data-toggle="modal" data-target="#quiz-modal">Quiz starten</button>
						</div>
					</article>
				</section>
				<section id="abschlussquiz">
					<h1>Abschlussquiz</h1> 
					<p>Dieses Quiz beendet das Training. Nachdem Du die letzte Prüfung gemeistert hast, erhältst du Zugriff auf fortgeschrittene Techniken!</p>
					<article>
						<h2 class="invisible">Abschlussquiz</h2>
						<div class="abschluss_quiz_container quiz_container">
							<h3>Abschlussquiz</h3>
							<p>Bereit?</p>
							<button type="button" class="btn btn-primary" data-backdrop="static" data-keyboard="false" data-quiz-id="Abschlussquiz" data-toggle="modal" data-target="#quiz-modal">Quiz starten</button>
						</div>
					</article>
				</section>
				<section>
					<h1>Advanced</h1>
					<p>
						Herzlichen Glückwunsch, Du hast das WBT bestanden! Wenn Du nun noch mehr über das Spiel lernen und deinen Skill verbessern möchtest, haben wir hier ein paar Anhaltspunkte für Dich.
					</p>
					<article>
						<h2>Teching</h2>
						<div id="teching">
							<script>
								$( "#teching" ).load( "content/teching.html" );
							</script>
						</div>
					</article>
					<article>
						<h2>DI</h2>
						<div id="di">
							<script>
								$( "#di" ).load( "content/di.html" );
							</script>
						</div>
					</article>
					<article>
						<h2>Dash dancing</h2>
						<div id="dash_dance">
							<script>
								$( "#dash_dance" ).load( "content/dash_dance.html" );
							</script>
						</div>
					</article>
					<article>
						<h2>Wave dashing</h2>
						<div id="wave_dash">
							<script>
								$( "#wave_dash" ).load( "content/wave_dash.html" );
							</script>
						</div>
					</article>
					<article>
						<h2>Practice makes perfect</h2>
						<div id="practice">
							<script>
								$( "#practice" ).load( "content/practice.html" );
							</script>
						</div>
					</article>
				</section>
			</div>
		</div>
	</div>
	<!-- Quiz modal template --> 
	<div class="modal fade" id="quiz-modal" tabindex="-1" role="dialog" aria-labelledby="quiz-modal-title" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="quiz-modal-title">Modal Titel</h5>
					<button type="button" class="close closefirstmodal" aria-label="Close">
					  <span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div id="quiz-container" class="modal-body">
				</div>
			</div>
		</div>
	</div>
	<!-- Closing Warning -->
	<div id="Warning" class="modal fade" role="dialog" data-backdrop="false">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-body">
					<p>Wilst du das Quiz wirklich abbrechen?<br/>
					Dein Fortschritt wird nicht gespeichert.</p>
					<button type="button" class="btn btn-danger confirmclosed">Quiz schließen</button>
					<button type="button" class="btn btn-primary" data-dismiss="modal">Abbrechen</button>
				</div>
			</div>
		</div>
	</div>
	<div class="alert alert-success" id="progress-alert" style="display: none;">
		<button type="button" class="close" data-dismiss="alert">x</button>
		<strong>Herlichen Glückwunsch!</strong>
		Du hast einen neuen Fortschritt erzielt.
	</div>
	<!-- -->
	<script src="http://www.youtube.com/player_api"></script> <!-- Youtube API -->
	<script>
		document.addEventListener('DOMContentLoaded', function(){
		
		//youtube API
        window.onYouTubeIframeAPIReady = function() { 
			console.log("Youtube API ready");
        };	

		//hide advanced section
		var advancedSection = $('li').has('a:contains("Advanced")').hide();
		
		//LocalStorage
		if(window.localStorage){
			if(!localStorage.getItem("solvedQuizzes")) localStorage.setItem("solvedQuizzes", 0); //Set Key for the amount of solved quizzes if the key doesn't exist
		}
		//		
		
		var solvedQuizzes = localStorage.getItem("solvedQuizzes");
		
		//Set banner 
		if(solvedQuizzes == 0){
			$('#banner').css('background-image', 'url(src/images/Photoshop/fortschritt0.png)');
		}
		
		if(solvedQuizzes >= 1){
			if(solvedQuizzes == 1) $('#banner').css('background-image', 'url(src/images/Photoshop/fortschritt1.png)');
			$("#c_falcon").removeClass("locked");
		}
		
		if(solvedQuizzes >= 2){
			if(solvedQuizzes == 2) $('#banner').css('background-image', 'url(src/images/Photoshop/fortschritt3.png)');
			$("#ice_climbers").removeClass("locked");
			$("#jigglypuff").removeClass("locked");
		}
		
		if(solvedQuizzes >= 3){
			if(solvedQuizzes == 3) $('#banner').css('background-image', 'url(src/images/Photoshop/fortschritt5.png)');
			$("#peach").removeClass("locked");
			$("#zelda").removeClass("locked");
		}
		
		if(solvedQuizzes >= 4){
			if(solvedQuizzes == 4) $('#banner').css('background-image', 'url(src/images/Photoshop/fortschritt6.png)');
			$("#roy").removeClass("locked");
		}
		
		if(solvedQuizzes == 5){
			advancedSection.show(); //show advanced section)
			$('#banner').css('background-image', 'url(src/images/Photoshop/fortschritt8.png)');
			$("#falco").removeClass("locked");
			$("#fox").removeClass("locked");
		}
		//	
		
		//character lock
		 $('.character-tile').each(function(i, obj) {
			if($(this).hasClass('locked')){
				$(this).find('span').html('???');
				console.log('locked');
			}
		});
		
		// Hide method from for-in loops
		Object.defineProperty(Array.prototype, "equals", {enumerable: false});
				
				//pause all videos
				var vids = this.getElementsByTagName('video');
				Array.prototype.forEach.call (vids, function (vid) {

					vid.pause();
					vid.setAttribute("controls","controls");

				} );
				//
				
				//
				var stages = this.getElementsByClassName('panel-collapse');
				Array.prototype.forEach.call (stages, function (stg) {
					if(stg.classList.contains('in')){
						stg.classList.remove('in');
					}
				} );
				//
				
				//remove "Abschließen" buttons from framework
				$('a[href="#finish"]').each(function() {
					$(this).remove();   
				});
		}, false);
	</script>
</body>
</html>